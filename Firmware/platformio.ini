; PlatformIO Project Configuration File

[common]
platform = espressif32
board = az-delivery-devkit-v4
framework = arduino
board_build.partitions = partitions.csv
board_build.filesystem = littlefs
monitor_speed = 115200
build_flags =
	-DMQTT_MAX_PACKET_SIZE=768
	-DMQTT_KEEPALIVE=30
lib_deps =
	knolleary/PubSubClient@^2.8
	bblanchon/ArduinoJson@^7.3.1
	me-no-dev/ESPAsyncWebServer@^1.2.4
	me-no-dev/AsyncTCP@^1.1.1

; Serial upload (use for first flash or partition table changes)
[env:serial]
extends = common
upload_speed = 921600

; OTA upload (use after initial serial flash)
[env:ota]
extends = common
upload_protocol = espota
upload_port = khcontrollerv3.local
upload_flags =
	--port=3232
extra_scripts = save_history.py
